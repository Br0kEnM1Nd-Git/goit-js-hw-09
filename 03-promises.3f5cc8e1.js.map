{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,IAAIC,EAAQ,EACRC,EAAY,EACZC,EAAS,EACb,MAAMC,EAAK,GAaX,MAAMC,EAAOC,SAASC,cAAc,SAEpCF,EAAKG,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBACNN,EAAGO,SAAQC,GAAMC,aAAaD,KAC9BR,EAAGU,OAAO,EAAGV,EAAGW,QAChBd,EAAQe,OAAOX,EAAKY,SAASC,MAAMC,OACnCjB,EAAYc,OAAOX,EAAKY,SAASG,KAAKD,OACtChB,EAASa,OAAOX,EAAKY,SAASI,OAAOF,OACrCd,EAAKiB,QACL,IAAK,IAAIC,EAAI,EAAGA,GAAKpB,EAAQoB,IAC3BnB,EAAGoB,KACDC,YACE,CAACC,EAAGC,KA1BZ,IAAuBC,EAAUC,GAAVD,EA2BCF,EA3BSG,EA2BNF,EA1BlB,IAAIG,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,C,SAAEH,EAAUV,MAAAW,IAEpBG,EAAO,C,SAAEJ,EAAUV,MAAAW,GAAQ,KAsBpBM,MAAK,EAACP,SAAEA,EAAUV,MAAAkB,MACjBC,EAAAtC,GAASuC,OAAOC,QACd,uBAAqBX,QAAiBQ,MAAU,IAGnDI,OAAM,EAACZ,SAAEA,EAAUV,MAAAuB,MAClBJ,EAAAtC,GAASuC,OAAOI,QACd,sBAAoBd,QAAea,MAAU,GAE/C,GAENxC,EACAsB,EACAtB,IAGJA,GAASC,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nlet delay = 0;\nlet delayStep = 0;\nlet amount = 0;\nconst id = [];\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  id.forEach(id => clearTimeout(id));\n  id.splice(0, id.length);\n  delay = Number(form.elements.delay.value);\n  delayStep = Number(form.elements.step.value);\n  amount = Number(form.elements.amount.value);\n  form.reset();\n  for (let i = 1; i <= amount; i++) {\n    id.push(\n      setTimeout(\n        (i, delay) => {\n          createPromise(i, delay)\n            .then(({ position, delay }) => {\n              Notiflix.Notify.success(\n                `✅ Fulfilled promise ${position} in ${delay}ms`\n              );\n            })\n            .catch(({ position, delay }) => {\n              Notiflix.Notify.failure(\n                `❌ Rejected promise ${position} in ${delay}ms`\n              );\n            });\n        },\n        delay,\n        i,\n        delay\n      )\n    );\n    delay += delayStep;\n  }\n}\n"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$delay","$47d4ff9957288465$var$delayStep","$47d4ff9957288465$var$amount","$47d4ff9957288465$var$id","$47d4ff9957288465$var$form","document","querySelector","addEventListener","event","preventDefault","forEach","id1","clearTimeout","splice","length","Number","elements","delay","value","step","amount","reset","i1","push","setTimeout","i","delay2","position","delay1","Promise","resolve","reject","Math","random","then","delay3","$parcel$interopDefault","Notify","success","catch","delay4","failure"],"version":3,"file":"03-promises.3f5cc8e1.js.map"}