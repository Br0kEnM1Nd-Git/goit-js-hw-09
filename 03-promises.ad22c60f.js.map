{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SAEIC,EAAQ,EACRC,EAAY,EACZC,EAAS,EACPC,EAAK,GAaX,IAAMC,EAAOC,SAASC,cAAc,SAEpCF,EAAKG,iBAAiB,UAEtB,SAAsBC,GACpBA,EAAMC,iBACNN,EAAGO,SAAQ,SAAAC,G,OAAMC,aAAaD,E,IAC9BR,EAAGU,OAAO,EAAGV,EAAGW,QAChBd,EAAQe,OAAOX,EAAKY,SAASC,MAAMC,OACnCjB,EAAYc,OAAOX,EAAKY,SAASG,KAAKD,OACtChB,EAASa,OAAOX,EAAKY,SAASI,OAAOF,OACrCd,EAAKiB,QACL,IAAK,IAAIC,EAAI,EAAGA,GAAKpB,EAAQoB,IAC3BnB,EAAGoB,KACDC,YACE,SAACC,EAAGC,GA1BZ,IAAuBC,EAAUC,GAAVD,EA2BCF,EA3BSG,EA2BNF,EA1BlB,IAAIG,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAEH,WAAUV,MAAAW,IAEpBG,EAAO,CAAEJ,WAAUV,MAAAW,G,KAsBZM,MAAK,SAAAC,G,IAAGR,EAAQQ,EAARR,SAAUS,EAAKD,EAALlB,MACjBoB,EAAAvC,GAASwC,OAAOC,QACd,uBAAwCC,OAAfb,EAAS,QAAYa,OAANJ,EAAM,M,IAGjDK,OAAM,SAAAN,G,IAAGR,EAAQQ,EAARR,SAAUS,EAAKD,EAALlB,MAClBoB,EAAAvC,GAASwC,OAAOI,QACd,sBAAqCF,OAAfb,EAAS,QAAYa,OAANJ,EAAM,M,MAInDpC,EACAsB,EACAtB,IAGJA,GAASC,C","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nlet delay = 0;\nlet delayStep = 0;\nlet amount = 0;\nconst id = [];\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n}\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  id.forEach(id => clearTimeout(id));\n  id.splice(0, id.length);\n  delay = Number(form.elements.delay.value);\n  delayStep = Number(form.elements.step.value);\n  amount = Number(form.elements.amount.value);\n  form.reset();\n  for (let i = 1; i <= amount; i++) {\n    id.push(\n      setTimeout(\n        (i, delay) => {\n          createPromise(i, delay)\n            .then(({ position, delay }) => {\n              Notiflix.Notify.success(\n                `✅ Fulfilled promise ${position} in ${delay}ms`\n              );\n            })\n            .catch(({ position, delay }) => {\n              Notiflix.Notify.failure(\n                `❌ Rejected promise ${position} in ${delay}ms`\n              );\n            });\n        },\n        delay,\n        i,\n        delay\n      )\n    );\n    delay += delayStep;\n  }\n}\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$delay","$ce04d3a99e08e73b$var$delayStep","$ce04d3a99e08e73b$var$amount","$ce04d3a99e08e73b$var$id","$ce04d3a99e08e73b$var$form","document","querySelector","addEventListener","event","preventDefault","forEach","id1","clearTimeout","splice","length","Number","elements","delay","value","step","amount","reset","i1","push","setTimeout","i","delay2","position","delay1","Promise","resolve","reject","Math","random","then","param","_$delay","$parcel$interopDefault","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.ad22c60f.js.map"}